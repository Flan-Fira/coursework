head	1.7;
access;
symbols;
locks;
comment	@ * @;


1.7
date	2010.11.12.03.35.04;	author dmfrank;	state -;
branches;
next	1.6;

1.6
date	2010.10.17.17.18.26;	author -;	state -;
branches;
next	1.5;

1.5
date	2010.10.17.17.03.14;	author -;	state -;
branches;
next	1.4;

1.4
date	2010.10.17.15.10.03;	author -;	state -;
branches;
next	1.3;

1.3
date	2010.10.17.14.47.56;	author -;	state -;
branches;
next	1.2;

1.2
date	2010.10.17.14.04.39;	author -;	state -;
branches;
next	1.1;

1.1
date	2010.10.17.13.48.05;	author -;	state -;
branches;
next	;


desc
@@


1.7
log
@-
@
text
@/*	$Id: Shuffle.c,v 1.6 2010-10-17 10:18:26-07 - - $
 *	Derek Frank, dmfrank@@ucsc.edu
 *
 *	NAME
 *		Shuffle.c
 *
 *	DESCRIPTION
 *		Reads permutations line by line from a file and shuffles a list
 *	the length of the permutation according to the operators found in
 *	the permutations.  The list is shuffled until it returns to its
 *	original state and the number of shuffles is counted.  The first
 *	shuffle along with the number of shuffles needed to return the
 *	list to its original state are written to a file specified by the
 *	user line by line with its corresponding permutation.  The first
 *	line read from the file by Shuffle is assumed to be the number of
 *	permutations in the file.	
 */

#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include "List.h"

#define MAX_LEN 250

void shuffle(ListRef L, ListRef P) {
	int temp, operator, i, j, jLimit;
	int prevOperator = 1;
	moveFront(P);
	moveLast(L);
	
	for ( i=1; i<=getLength(P); ++i ) {
		operator = getCurrent(P);
		temp = getFront(L);
		jLimit = (operator - prevOperator);
		
		/* either move current marker right or left */
		if ( jLimit < 0 ) {
			jLimit = (-1*jLimit);
			for ( j=jLimit; j>0; --j ) {
				movePrev(L);
			}
		}else if ( jLimit > 0 ) {
			for ( j=0; j<jLimit; ++j ) {
				moveNext(L);
			}
		}

		insertAfterCurrent(L, temp);
		moveNext(P); /* move operator current-marker right */
		prevOperator = operator; /* keep track of previous current marker */
		deleteFront(L);
    }
}

int main (int argc, const char * argv[]) {
	int i, n, temp, order, numberOfP;
	int count=0;
	FILE *in, *out;
	char line[MAX_LEN];
	char* token;
	ListRef permutation = newList();
	ListRef list = newList();
	ListRef copy = NULL;
	
	/* check command line for correct number of arguments */
	if( argc != 3 ){
		printf("Usage: %s infile outfile\n", argv[0]);
		exit(1);
	}
	
	/* open files for reading and writing */
	in = fopen(argv[1], "r");
	out = fopen(argv[2], "w");
	if( in==NULL ){
		printf("Unable to open file %s for reading\n", argv[1]);
		exit(1);
	}
	if( out==NULL ){
		printf("Unable to open file %s for writing\n", argv[2]);
		exit(1);
	}
	
	/* read each line of input file, then place tokens in list
	 * and shuffle until the list is back to its original state */
	while( fgets(line, MAX_LEN, in) != NULL)  {
		count++;
		order = 0;
		n = 0;
		token = strtok(line, " \n");
		while( token!=NULL ){
			temp = atoi(token);
			n++;
			insertAfterBack(permutation, temp);
			token = strtok(NULL, " \n");
		}
		if (count == 1) {
			numberOfP = temp;
		}else {
			for ( i=1; i<=getLength(permutation); ++i) {
				insertAfterBack(list, i);
			}

			copy = copyList(list);
			shuffle(list, permutation);
			++order;
			printList(out, list);
			
			while ( !equals(list, copy) ) {
				shuffle(list, permutation);
				++order;
			}
			
			fprintf(out," order= %d\n", order);
			makeEmpty(list);
			freeList(&copy);
			copy = NULL;
		}
		makeEmpty(permutation);
	}
	
	freeList(&permutation);
	freeList(&list);
	
	/* close files */
	fclose(in);
	fclose(out);
	
	return(0);
	
}
@


1.6
log
@-
@
text
@d1 1
a1 1
/*	$Id: Shuffle.c,v 1.5 2010-10-17 08:10:14-07 derekmfrank - $
d116 2
a117 1
			makeEmpty(copy);
a123 1
	freeList(&copy);
@


1.5
log
@-
@
text
@d48 1
a48 1
		
@


1.4
log
@-
@
text
@d1 1
a1 1
/*	$Id: $
d8 9
a16 1
 *		
d24 32
d57 13
a69 7
	ListRef A = newList();
	ListRef B = newList();
	int i;
	
	for ( i=1; i<=10; ++i) {
		insertAfterBack(A, i);
		insertAfterBack(B, 11-i);
d71 7
a77 8
	printf("A = ");
	printList(A);
	printf("\nB = ");
	printList(B);
	
	for( i=1; i<=6; ++i ) {
		insertAfterBack(A, getFront(B));
		deleteFront(B);
d79 3
a81 20
	printf("\nA = ");
	printList(A);
	printf("\nB = ");
	printList(B);
	ListRef C = copyList(A);
	printf("\nC = ");
	printList(C);
	
	if ( equals(A,B) ) { printf("\nA equals B"); }
	else { printf("\nA does not equal B"); }
	if ( equals(A,C) ) { printf("\nA equals C"); }
	else { printf("\nA does not equal C"); }
	
	ListRef D = catList(A,B);
	printf("\nD = ");
	printList(D);
	if ( equals(A,D) ) {
		printf("\nA equals D");
	}else {
		printf("\nA does not equal D");
a82 2
	if ( equals(D,A) ) { printf("\nD equals A"); }
	else { printf("\nD does not equal A"); }
d84 47
a130 9
	int lengthCompare = ( getLength(A) == getLength(D) );
	printf("\nLength A = %d and Length D = %d and Length C = %d", getLength(A), getLength(D),getLength(C));
	printf("\nLength Compare = %d\n",lengthCompare);
	
	makeEmpty(D);
	printList(D);
	freeList(&D);
	printList(D);
	return (0);
@


1.3
log
@-
@
text
@d1 10
d59 1
a59 1
	printf("\nLength A = %d and Length D = %d", getLength(A), getLength(D));
d61 5
@


1.2
log
@-
@
text
@d2 3
d7 45
a51 2
    printf("Hello, World!\n");
    return 0;
@


1.1
log
@-
@
text
@a3 1
    // insert code here...
@
